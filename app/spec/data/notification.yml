data:
    notification:
        roles:
            edit: [ notification_admin ]
            view: [ notification_auditor ]
        data:
            class: Notification
            base: environment
            meta:
                dynamic_fields: [ group_names, failure_group_names ]

    notification_group:
        app: notification
        roles:
            edit: [ notification_admin ]
            view: [ notification_auditor ]
        data:
            class: NotificationGroup
            base: resource
            key: id
            id_fields: [ notification_id, group_id ]
            fields:
                name: null
                notification:
                    type: "@django.ForeignKey"
                    relation: notification
                    color: relation
                    options:
                        on_delete: "@django.CASCADE"
                        related_name: groups
                group:
                    type: "@django.ForeignKey"
                    relation: group
                    color: relation
                    options:
                        "null": false
                        on_delete: "@django.CASCADE"
                        related_name: "+"
            meta:
                ordering: [ id ]

    notification_failure_group:
        app: notification
        roles:
            edit: [ notification_admin ]
            view: [ notification_auditor ]
        data:
            class: NotificationFailureGroup
            base: resource
            key: id
            id_fields: [ notification_id, group_id ]
            fields:
                name: null
                notification:
                    type: "@django.ForeignKey"
                    relation: notification
                    color: relation
                    options:
                        on_delete: "@django.CASCADE"
                        related_name: failure_groups
                group:
                    type: "@django.ForeignKey"
                    relation: group
                    color: relation
                    options:
                        "null": false
                        on_delete: "@django.CASCADE"
                        related_name: "+"
            meta:
                ordering: [ id ]
